<!DOCTYPE html>

<html>

	<head>
		<title>TicTacToe (PD)</title>

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
		<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
		<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
		<link rel="stylesheet" href="style.css" type="text/css" />
	</head>

	<body>

		<script>

			var turn;
			var boxVals = ['', '', '', '', '', '', '', '', '']

			//Based on btn clicked, set initial value of turn var
			function pickFirstTurn(str){
				if (str == 'X'){
					turn = 'X';
				} else if (str == 'O'){
					turn = 'O';
				}
			}

			function checkWin(){
				//8 winners are 123, 456, 789, 147, 258, 369, 159, 357
				//must subtract 1 since we are using indexes (makes code cleaner)
				//winners now   012, 345, 678, 036, 147, 258, 048, 246

				if (boxVals[0]==boxVals[1] && boxVals[1]==boxVals[2] && boxVals[0]!= ''){
					alert('winner' + turn);
				}

				else if (boxVals[3]==boxVals[4] && boxVals[4]==boxVals[5] && boxVals[3]!= ''){
					alert('winner' + turn);
				}
				else if (boxVals[6]==boxVals[7] && boxVals[7]==boxVals[8] && boxVals[6]!= ''){
					alert('winner' + turn);
				}
				else if (boxVals[0]==boxVals[3] && boxVals[3]==boxVals[6] && boxVals[0]!= ''){
					alert('winner' + turn);
				}
				else if (boxVals[1]==boxVals[4] && boxVals[4]==boxVals[7] && boxVals[1]!= ''){
					alert('winner' + turn);
				}
				else if (boxVals[2]==boxVals[5] && boxVals[5]==boxVals[8] && boxVals[2]!= ''){
					alert('winner' + turn);
				}
				else if (boxVals[0]==boxVals[4] && boxVals[4]==boxVals[8] && boxVals[0]!= ''){
					alert('winner' + turn);
				}
				else if (boxVals[2]==boxVals[4] && boxVals[4]==boxVals[6] && boxVals[2]!= ''){
					alert('winner ' + turn);
				}

			}			


			//After a move, switch turn from X to O or vice versa
			function switchTurn(){
				if (turn == 'X'){
					turn = 'O';
				} else turn = 'X';
			}

			//set a box to be an X or O depending on turn
			//then switches the turn to the other player
			function move(box, turn){

				//make sure that it's not an already used box
				if (boxVals[parseInt(box)-1]==''){
					$('#box'+box).text(turn);
					
					//set the box vars to the value that is 'written' in them
					boxVals[parseInt(box)-1] = turn;
					
					checkWin();
					switchTurn();
				}



			}



			$(document).ready(function() {
				$('#box1').on('click', function() {move('1', turn);});
				$('#box2').on('click', function() {move('2', turn);});
				$('#box3').on('click', function() {move('3', turn);});
				$('#box4').on('click', function() {move('4', turn);});
				$('#box5').on('click', function() {move('5', turn);});
				$('#box6').on('click', function() {move('6', turn);});
				$('#box7').on('click', function() {move('7', turn);});
				$('#box8').on('click', function() {move('8', turn);});
				$('#box9').on('click', function() {move('9', turn);});

				// First Turn Buttons
				// Will be added to initial pop-up box
				$('#btnXStarts').on('click', function() {pickFirstTurn('X');});
				$('#btnOStarts').on('click', function() {pickFirstTurn('O');});


			});

		</script>

		<div id="main" class="container">	
			<h1>Tic Tac Toe</h1>

			<div id="boardDiv">
					<button id="box1" class="boxBtn bRight bBottom col col-md-4"></button>
					<button id="box2" class="boxBtn bLeft bBottom bRight col col-md-4"></button>
					<button id="box3" class="boxBtn bLeft bBottom col col-md-4"></button>
					<br>
					<button id="box4" class="boxBtn bTop bRight bBottom col col-md-4"></button>
					<button id="box5" class="boxBtn bTop bRight bLeft bBottom col col-md-4"></button>
					<button id="box6" class="boxBtn bTop bBottom bLeft col col-md-4"></button>
					<br>
					<button id="box7" class="boxBtn bTop bRight col col-md-4"></button>
					<button id="box8" class="boxBtn bTop bRight bLeft col col-md-4"></button>
					<button id="box9" class="boxBtn bTop bLeft col col-md-4"></button>
				
			</div>

			<button id="btnXStarts">X STARTS</button>
			<button id="btnOStarts">O STARTS</button>
		</div>
		
	</body>

</html>